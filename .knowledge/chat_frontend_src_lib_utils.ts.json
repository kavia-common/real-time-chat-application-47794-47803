{"is_source_file": true, "format": "TypeScript", "description": "This file provides utility functions for a chat application, including formatting timestamps, persisting chat messages to local storage, loading cached messages, and generating unique identifiers.", "external_files": ["./types"], "external_methods": [], "published": ["formatTime", "persistMessages", "loadMessages", "uid"], "classes": [], "methods": [{"name": "export function formatTime(ts: number): string { formatTime", "description": "Formats a timestamp into a localized time string.", "scope": "", "scopeKind": ""}, {"name": "export function persistMessages(messages: ChatMessage[]) { persistMessages", "description": "Saves the last 20 chat messages to local storage.", "scope": "", "scopeKind": ""}, {"name": "export function loadMessages(): ChatMessage[] { loadMessages", "description": "Loads cached chat messages from local storage.", "scope": "", "scopeKind": ""}, {"name": "export function uid(): string { uid", "description": "Generates a simple unique identifier string for local use.", "scope": "", "scopeKind": ""}], "calls": ["localStorage.setItem", "localStorage.getItem", "JSON.stringify", "JSON.parse", "Math.random", "Date.now"], "search-terms": ["utils", "localStorage", "chat_messages", "timestamp formatting", "message caching", "UID generation"], "state": 2, "file_id": 14, "knowledge_revision": 31, "git_revision": "", "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/real-time-chat-application-47794-47803/chat_frontend/src/lib/utils.ts", "pattern": "/^const STORAGE_KEY = \"chat_messages_cache_v1\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "d", "path": "/home/kavia/workspace/code-generation/real-time-chat-application-47794-47803/chat_frontend/src/lib/utils.ts", "pattern": "/^  const d = new Date(ts);$/", "language": "TypeScript", "kind": "constant", "scope": "formatTime", "scopeKind": "function"}, {"_type": "tag", "name": "formatTime", "path": "/home/kavia/workspace/code-generation/real-time-chat-application-47794-47803/chat_frontend/src/lib/utils.ts", "pattern": "/^export function formatTime(ts: number): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "loadMessages", "path": "/home/kavia/workspace/code-generation/real-time-chat-application-47794-47803/chat_frontend/src/lib/utils.ts", "pattern": "/^export function loadMessages(): ChatMessage[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/real-time-chat-application-47794-47803/chat_frontend/src/lib/utils.ts", "pattern": "/^    const parsed = JSON.parse(raw) as ChatMessage[];$/", "language": "TypeScript", "kind": "constant", "scope": "loadMessages", "scopeKind": "function"}, {"_type": "tag", "name": "persistMessages", "path": "/home/kavia/workspace/code-generation/real-time-chat-application-47794-47803/chat_frontend/src/lib/utils.ts", "pattern": "/^export function persistMessages(messages: ChatMessage[]) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/real-time-chat-application-47794-47803/chat_frontend/src/lib/utils.ts", "pattern": "/^    const raw = localStorage.getItem(STORAGE_KEY);$/", "language": "TypeScript", "kind": "constant", "scope": "loadMessages", "scopeKind": "function"}, {"_type": "tag", "name": "slice", "path": "/home/kavia/workspace/code-generation/real-time-chat-application-47794-47803/chat_frontend/src/lib/utils.ts", "pattern": "/^    const slice = messages.slice(-20);$/", "language": "TypeScript", "kind": "constant", "scope": "persistMessages", "scopeKind": "function"}, {"_type": "tag", "name": "uid", "path": "/home/kavia/workspace/code-generation/real-time-chat-application-47794-47803/chat_frontend/src/lib/utils.ts", "pattern": "/^export function uid(): string {$/", "language": "TypeScript", "kind": "function"}], "hash": "6cf8b1930a3df886fedfd713e4abe65f", "format-version": 4, "code-base-name": "chat_frontend", "filename": "chat_frontend/src/lib/utils.ts", "revision_history": [{"31": ""}]}